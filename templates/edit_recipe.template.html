{% extends 'base.template.html' %}

{%block content %}
<form method="POST">
    <div>
        <label class="form-label">Recipe Name</label>
        <input type="text" class="form-control" name="recipe_name" value="{{recipe.name}}"/>
    </div>
    <div class="form-group">
        <label for="descriptiontextarea">Description</label>
        <textarea class="form-control" id="descriptiontextarea" name="description" rows="3" value="{{recipe.description}}"></textarea>
    </div>
    <div>
        <label class="form-label">Servings</label>
        <input type="number" class="form-control" name="servings" value="{{recipe.servings}}"/>
    </div>
    <div class="form-group">
        <label for="ingredientstextarea">Ingredients</label>
        <h6>Put a semicolon ';' after each measured ingredient, for e.g. 1 tbsp of salt; 1 tsp soy sauce; 1 whole tomato</h6>

        <textarea class="form-control" id="ingredientstextarea" name="ingredients" rows="5">{% for ingredient in recipe.ingredients %}{{ingredient}}; {% endfor %}</textarea>
    </div>

    <div class="form-group">
        <label for="directionstextarea">Directions</label>
        <h6>Put a semicolon ';' after each step, for e.g. Cut into slices; Soak in water for 10 minutes; Preheat oven</h6>
        
        <textarea class="form-control" id="directionstextarea" name="directions" rows="5">{% for direction in recipe.directions %}{{direction}}; {% endfor %}</textarea>
        
    </div>

    <h3>Cuisine</h3> 
    <select name="cuisine" id="cuisine" multiple>
        {% if 'chinese' in recipe.cuisine %}
            <option value="chinese" selected>Chinese</option>
        {% else %}
            <option value="chinese">Chinese</option>
        {% endif %}
        {% if 'western' in recipe.cuisine %}
            <option value="western" selected>Western</option>
        {% else %}
            <option value="western">Western</option>
        {% endif %}
        {% if 'hainanese' in recipe.cuisine %}
            <option value="hainanese" selected>Hainanese</option>
        {% else %}
            <option value="hainanese">Hainanese</option>
        {% endif %}
    </select>
    <br> 
    <select id="meal_type" name="meal_type">
        {% if recipe.meal_type == 'breakfast' %}
            <option value="breakfast" selected>Breakfast</option> 
        {% else %}
            <option value="breakfast">Breakfast</option> 
        {% endif %}
        {% if recipe.meal_type == 'maincourse' %}
            <option value="maincourse" selected>Main Course</option> 
        {% else %}
            <option value="maincourse">Main Course</option> 
        {% endif %}
        {% if recipe.meal_type == 'soup' %}
            <option value="soup" selected>Soup</option> 
        {% else %}
            <option value="soup">Soup</option> 
        {% endif %}
        {% if recipe.meal_type == 'dessert' %}
            <option value="dessert" selected>Dessert</option> 
        {% else %}
            <option value="dessert">Dessert</option> 
        {% endif %}
        {% if recipe.meal_type == 'festive' %}
            <option value="festive" selected>Festive</option> 
        {% else %}
            <option value="festive">Festive</option> 
        {% endif %}
    </select>
    <br>

    <div>
        <label class="form-label">Video URL</label>
        <input type="text" class="form-control" name="media" value="{{recipe.media}}"/>
    </div>

    <div>
        <label class="form-label">Image</label>
        <input type="text" class="form-control" name="image" value="{{recipe.image}}"/>
    </div>

    <div>
        <label class="form-label">Contributor Name (This will not be displayed on the Recipe page)</label>
        <input type="text" class="form-control" name="contributor" value="{{recipe.contributor}}"/>
    </div>
    <div>
        <label class="form-label">Contributor Email </label>
        <input type="text" class="form-control" name="email" value="{{recipe.email}}"/>
    </div>
    <br>
    <input type="submit" class="btn btn-success"/>

    <a href="{{ url_for('show_recipe', recipe_id=recipe._id ) }}" class="btn btn-primary">Back to this Recipe</a>
</form>

{%endblock%}